
# Gemini Code Understanding

This document provides a technical overview of the Cricket Auction application, generated by Gemini.

## Project Structure

The project is a full-stack application with a Java backend and a React frontend.

### Backend

- **Framework:** Spring Boot
- **Language:** Java
- **Build Tool:** Maven
- **Database:** H2 (in-memory, for development)
- **Security:** Spring Security with JWT
- **Real-time Communication:** WebSocket with STOMP

The backend is organized into the following packages:

- `config`: WebSocket and Security configuration.
- `controller`: REST controllers for handling API requests.
- `dto`: Data Transfer Objects for API requests and responses.
- `entity`: JPA entities representing the database schema.
- `exception`: Global exception handling.
- `repository`: Spring Data JPA repositories for database access.
- `security`: JWT utility, filter, and user details service.
- `service`: Business logic for the application.

### Frontend

- **Framework:** React
- **Language:** JavaScript
- **UI Library:** Material-UI
- **State Management:** React Context API
- **API Communication:** Axios
- **Real-time Communication:** SockJS and STOMP.js

The frontend is organized into the following directories:

- `components`: Reusable React components.
- `contexts`: React context for authentication.
- `services`: API and WebSocket communication services.

## Core Functionality

The application allows users to create and participate in cricket player auctions.

### Key Features

- **User Authentication:** Users can register and log in to the application. JWT is used for authentication.
- **Auction Management:** Authenticated users can create, view, update, and delete auctions.
- **Team Management:** Users can create and manage teams within an auction.
- **Player Management:** Users can add players to an auction.
- **Real-time Bidding:** Bidding on players happens in real-time using WebSockets.
- **Live Auction Dashboard:** A dedicated view for live auctions, showing the current player, bid history, and team budgets.

## Database Schema

The database schema consists of the following entities:

- `User`: Stores user information, including username, password, and roles.
- `Auction`: Represents an auction event with details like name, date, and rules.
- `Team`: Represents a team participating in an auction.
- `Player`: Represents a cricket player available for auction.
- `Bid`: Records a bid made by a team for a player.
- `BidRule`: Defines rules for bid increments.
- `Category`: Defines player categories.
- `Sponsor`: Represents sponsors for an auction.

## API Endpoints

The backend exposes a REST API for the frontend to consume. The main endpoints are:

- `/api/auth`: User registration and login.
- `/api/auctions`: CRUD operations for auctions.
- `/api/auctions/{auctionId}/teams`: CRUD operations for teams within an auction.
- `/api/auctions/{auctionId}/players`: CRUD operations for players within an auction.
- `/api/bids`: Bidding operations.

## WebSocket Communication

The application uses WebSockets for real-time communication during the auction.

- **Endpoint:** `/ws`
- **Topics:**
  - `/topic/bids`: Broadcasts new bids to all connected clients.
  - `/topic/players/{playerId}`: Broadcasts updates for a specific player.

## Getting Started

To run the application, you need to have Java, Maven, and Node.js installed.

1. **Run the backend:**
   ```bash
   mvn spring-boot:run
   ```
2. **Run the frontend:**
   ```bash
   cd frontend
   npm install
   npm start
   ```

The application will be available at `http://localhost:3000`.
